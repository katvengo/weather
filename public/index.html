<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Weather</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

</head>
<body>
<div class="location">
    <h1 class="location-timezone">Time Zone</h1>
    <p>Icon</p>
</div>
<div class="temperature">
    <div class="degree-section"> 
    <h2 class="temperature-degree">34</h2>
<span>F</span>
</div>
    <div class="temperature-description">It's cold!</div>
</div>

</body>
<script type="text/javascript" src="server.js"></script>
    <script>



// const axios = require('axios');
   function runAPI(){
    $(document).ready(function() {

        let long;
        let lat;
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(position => {
                long = position.coords.longitude;

                lat = position.coords.latitude;
                var key = process.env.DARKSKY_ID;

                const api = `https://api.darksky.net/forecast/${key}/${lat},${long}`;

                axios.get(api)
                    .then(response => {
                        console.log(response);
                    })
                    .catch(error => {
                        console.log(error);
                    });
                });


            } 
        })

}

runAPI()
 </script>
</html>